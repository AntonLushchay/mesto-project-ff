(()=>{"use strict";var e="",t=[{name:"Педро",link:e+"images/racoon-pedro.gif"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function n(e,t,n){n.innerHTML="",e.forEach((function(e){var c=function(e,t,n,r){var o=t.querySelector(".card").cloneNode(!0),c=o.querySelector(".card__title"),i=o.querySelector(".card__image"),u=o.querySelector(".card__like-button"),a=o.querySelector(".card__delete-button");return function(e,t,n){t.src=n.link,t.alt=n.name,e.textContent=n.name}(c,i,e),function(e,t){e.addEventListener("click",(function(){return t(e)}))}(u,r),function(e,t){e.addEventListener("click",(function(){return t(e.closest(".card"))}))}(a,n),o}(e,t,r,o);n.append(c)}))}function r(e){e.remove()}function o(e){e.classList.toggle("card__like-button_is-active")}var c=new Audio(e+"audio/pedro-pedro.mp3");function i(e,t){e.classList.add("popup_is-opened"),e.querySelector("img")&&e.querySelector("img").src.includes("pedro")&&c.play(),function(e,t){var n=function(){return u(e,t)},r=function(n){return function(e,t,n){e.target===t&&u(t,n)}(n,e,t)},o=function(n){return function(e,t,n){"Escape"===e.key&&u(t,n)}(n,e,t)};t.addEventListener("click",n),e.addEventListener("click",r),document.addEventListener("keydown",o),t._closeClickHandler=n,e._overlayClickHandler=r,e._escCloseHandler=o}(e,t)}function u(e,t){e.classList.remove("popup_is-opened"),e.querySelector("img")&&e.querySelector("img").src.includes("pedro")&&(c.pause(),c.currentTime=0),function(e,t){t.removeEventListener("click",t._closeClickHandler),e.removeEventListener("click",e._overlayClickHandler),document.removeEventListener("keydown",e._escCloseHandler),delete e._overlayClickHandler,delete e._escCloseHandler,delete t._closeClickHandler}(e,t)}var a=document.querySelector("#card-template").content,l=document.querySelector(".places__list");n(t,a,l);var d=document.querySelector(".profile__edit-button"),s=document.querySelector(".profile__add-button"),p=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup_type_new-card"),m=document.querySelector(".popup_type_image"),v=m.querySelector(".popup__image"),y=p.querySelector(".popup__close"),f=_.querySelector(".popup__close"),k=m.querySelector(".popup__close");p.classList.add("popup_is-animated"),_.classList.add("popup_is-animated"),m.classList.add("popup_is-animated"),document.addEventListener("click",(function(e){e.target===d?(i(p,y),function(e,t,n){var r=document.querySelector(".profile__title"),o=document.querySelector(".profile__description"),c=e.querySelector(".popup__input_type_name"),i=e.querySelector(".popup__input_type_description");c.value=r.textContent,i.value=o.textContent,e.addEventListener("submit",(function u(a){a.preventDefault(),r.textContent=c.value,o.textContent=i.value,n(e,t),e.removeEventListener("submit",u)}))}(p,y,u)):e.target===s?(i(_,f),function(e,t,n,r,o){var c=e.querySelector(".popup__input_type_card-name"),i=e.querySelector(".popup__input_type_url");e.addEventListener("submit",(function u(a){a.preventDefault();var l={name:c.value,link:i.value};n.unshift(l),r(e,t),o(),e.removeEventListener("submit",u)}))}(_,f,t,u,(function(){n(t,a,l)}))):e.target.classList.contains("card__image")&&function(e,t,n,r){!function(e,t){t.querySelector(".popup__caption").textContent=e.target.closest(".card").querySelector(".card__title").textContent}(e,t),function(e,t){t.src=e.target.src}(e,n),n.addEventListener("load",(function(){i(t,r)}),{once:!0})}(e,m,v,k)}))})();